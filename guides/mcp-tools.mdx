---
title: MCP Tools Reference
description: Complete guide to InsForge's Model Context Protocol tools
---

# MCP Tools Reference

InsForge provides AI assistants with direct access to your backend through Model Context Protocol (MCP) tools. These tools enable AI to understand, create, and manage your application's backend.

## Essential Tools

### Setup & Documentation

| Tool | Purpose | When to Use |
|------|---------|-------------|
| `get-instructions` | **MANDATORY FIRST** - Backend setup rules | Always run first in any session |
| `get-api-key` | Retrieve API key for requests | When needing authentication |
| `get-backend-metadata` | Index all backend resources | Understanding what exists |
| `download-project-rules` | Get CLAUDE.md rules | Setting up AI context |

### API Documentation

| Tool | Returns | Use Case |
|------|---------|----------|
| `get-db-api` | Database CRUD operations | Working with PostgREST |
| `get-auth-api` | Authentication endpoints | Login/register flows |
| `get-storage-api` | File upload/download | Managing files |
| `debug-backend` | Troubleshooting guide | When things fail |

## Database Tools

### Schema Management

| Tool | Parameters | Purpose |
|------|------------|---------|
| `create-table` | name, columns | Create new tables with schema |
| `modify-table` | name, operations | Add/drop/rename columns |
| `delete-table` | name | Permanently remove table |
| `get-table-schema` | name | View table structure |

### Example Usage

```javascript
// AI receives: "Create a products table"
// AI calls: create-table({
//   name: "products",
//   columns: [
//     { name: "id", type: "UUID", primary: true },
//     { name: "name", type: "STRING", required: true },
//     { name: "price", type: "FLOAT", required: true },
//     { name: "stock", type: "INTEGER", default: 0 },
//     { name: "created_at", type: "DATETIME", default: "now()" }
//   ]
// })
```

## Storage Tools

### Bucket Management

| Tool | Parameters | Purpose |
|------|------------|---------|
| `create-bucket` | name, public | Create storage container |
| `list-buckets` | - | View all buckets |
| `delete-bucket` | name | Remove bucket |

### Access Policies

- **Public buckets**: Images, assets accessible without auth
- **Private buckets**: Documents requiring authentication

## Tool Behavior

### Automatic Context

Every MCP tool response includes:
- InsForge development rules
- Project-specific context
- Error handling patterns
- Best practices

### Error Handling

When tools fail, they return:
```json
{
  "error": "ERROR_CODE",
  "message": "Human-readable explanation",
  "nextAction": "Suggested resolution"
}
```

## Data Types

All database tools use simplified types:

| Type | PostgreSQL | Description |
|------|------------|-------------|
| `STRING` | TEXT | Unlimited text |
| `INTEGER` | INTEGER | Whole numbers |
| `FLOAT` | DOUBLE PRECISION | Decimals |
| `BOOLEAN` | BOOLEAN | True/false |
| `UUID` | UUID | Unique IDs |
| `DATETIME` | TIMESTAMPTZ | Timestamps |
| `JSON` | JSONB | Structured data |

## Integration Workflow

### Typical AI Session

1. **Initialize**: `get-instructions` (mandatory first call)
2. **Explore**: `get-backend-metadata` to see existing resources
3. **Create**: Use `create-table` or `create-bucket` as needed
4. **Implement**: Use API documentation tools for endpoints
5. **Debug**: Use `debug-backend` if issues arise

### Best Practices

- Always call `get-instructions` first
- Check existing resources before creating
- Use appropriate bucket access (public/private)
- Follow the data type conventions
- Handle errors gracefully

## Setup Instructions

### Claude Code CLI
```bash
claude mcp add insforge
```

### Claude Desktop / Cursor / Windsurf
Add to MCP settings:
```json
{
  "mcpServers": {
    "insforge": {
      "command": "npx",
      "args": ["@insforge/mcp-server", "--api_key", "YOUR_API_KEY"]
    }
  }
}
```

## Important Notes

- The `_user` table is read-only via database API
- Only admins can create storage buckets
- API key required for all operations
- Tools automatically inject project context
- All responses include development rules